<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Haikatalyst Board Game</title>
  <link rel="stylesheet" href="game.css">
</head>
<body>
  <div class="ambient" aria-hidden="true">
    <span class="orb"></span>
    <span class="orb"></span>
    <span class="orb"></span>
  </div>

  <div id="startPopup" class="overlay">
    <div class="popup-card start-card">
      <p class="eyebrow">Game Setup</p>
      <h2>Pilih Jumlah Pemain</h2>
      <p class="subtext">Pilih jumlah pemain lalu mulai bermain.</p>
      <div id="playerSelect" class="player-select" data-value="2">
        <button id="playerSelectTrigger" class="player-select-trigger" type="button" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="playerSelectLabel">
          <span id="playerSelectLabel">2 Pemain</span>
          <span class="player-select-arrow" aria-hidden="true">â–¾</span>
        </button>
        <ul id="playerSelectMenu" class="player-select-menu hidden" role="listbox" aria-labelledby="playerSelectLabel">
          <li><button type="button" class="player-option selected" data-value="2" role="option" aria-selected="true">2 Pemain</button></li>
          <li><button type="button" class="player-option" data-value="3" role="option" aria-selected="false">3 Pemain</button></li>
          <li><button type="button" class="player-option" data-value="4" role="option" aria-selected="false">4 Pemain</button></li>
          <li><button type="button" class="player-option" data-value="5" role="option" aria-selected="false">5 Pemain</button></li>
          <li><button type="button" class="player-option" data-value="6" role="option" aria-selected="false">6 Pemain</button></li>
          <li><button type="button" class="player-option" data-value="7" role="option" aria-selected="false">7 Pemain</button></li>
        </ul>
      </div>
      <button id="startBtn" class="btn primary">Mulai Game</button>
    </div>
  </div>

  <main id="game" class="game-layout">
    <section class="board-panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Haikatalyst</p>
          <h1>Board Arena</h1>
        </div>
        <div class="leader-wrap">
          <span>Pemimpin permainan saat ini:</span>
          <strong id="leaderText">Pemain 1</strong>
        </div>
      </div>

      <div id="board"></div>

      <div class="progress-wrap">
        <span>Progress permainan</span>
        <div class="progress-track">
          <div id="progressFill"></div>
        </div>
      </div>
    </section>

    <aside id="control" class="control-panel">
      <div class="glass stat-card">
        <p class="stat-title">Status Giliran</p>
        <div id="info">Tekan Mulai</div>
        <div class="dice-wrap">
          <div id="dice">ğŸ²</div>
          <span id="lastRoll">Belum roll</span>
        </div>
        <button id="rollBtn" class="btn primary" disabled>Roll Dadu</button>
      </div>

      <div class="glass stat-card">
        <p class="stat-title">Aksi</p>
        <div class="action-grid">
          <button id="openTutorial" class="btn secondary">Cara Bermain</button>
        </div>
      </div>

      <div class="glass stat-card">
        <p class="stat-title">Log Permainan</p>
        <ul id="logList"></ul>
      </div>
    </aside>
  </main>

  <div id="instructionPopup" class="overlay hidden">
    <div class="popup-card">
      <h3>Blok Instruksi</h3>
      <p class="subtext">Tambahkan efek ketika pemain mendarat di blok ini.</p>
      <input id="instructionText" placeholder="Contoh: Berapakah jika 16 dijumlahkan 7?">
      <input id="instructionMove" type="number" placeholder="Opsional: Tambahkan langkah (misal: 3 atau -2)">
      <div class="btn-row">
        <button id="saveInstruction" class="btn primary">Simpan</button>
        <button id="closeInstruction" class="btn secondary">Batal</button>
      </div>
    </div>
  </div>

  <div id="tutorialPopup" class="overlay hidden">
    <div class="popup-card">
      <h3>Cara Bermain</h3>
      <ul class="tutorial-list">
        <li>Tekan Roll Dadu untuk bergerak sesuai angka.</li>
        <li>Klik blok untuk menambahkan instruksi khusus dan efek langkah.</li>
        <li>Jika berhenti di blok berinstruksi, lakukan instruksinya!</li>
        <li>Pemain pertama yang mencapai blok 100 menang.</li>
      </ul>
      <button id="closeTutorial" class="btn primary">Tutup</button>
    </div>
  </div>

  <div id="customPopup" class="overlay hidden">
    <div class="popup-card">
      <h3 id="popupTitle">Instruksi Blok</h3>
      <p id="popupMessage"></p>
      <button id="popupOk" class="btn primary">Lanjut</button>
    </div>
  </div>

  <div id="winPopup" class="overlay hidden">
    <div class="popup-card win-card">
      <h3 id="winText">Pemenang</h3>
      <p>Game selesai! Mau main lagi?</p>
      <div class="btn-row">
        <button id="restartBtn" class="btn primary">Main Lagi</button>
        <a href="index.html" class="btn secondary link-btn">Ke Beranda</a>
      </div>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>